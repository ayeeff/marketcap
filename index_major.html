<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Empire Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Inter:wght@300;400;500;600;700&family=Rajdhani:wght@300;400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif;
            background: linear-gradient(-45deg, #0f172a, #1e293b, #0c1e3d, #1a1f3a); 
            background-size: 400% 400%; 
            animation: gradientShift 15s ease infinite; 
        }
        .orbitron {
            font-family: 'Orbitron', sans-serif;
        }
        
        .rajdhani {
            font-family: 'Rajdhani', sans-serif;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .card-glow { position: relative; background: rgba(30, 41, 59, 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; }
        .card-glow:hover { transform: translateY(-5px); border-color: rgba(59, 130, 246, 0.5); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(59, 130, 246, 0.3); }
        .empire-img { transition: all 0.3s ease; filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.3)); }
        .empire-img:hover { transform: scale(1.05); filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.6)); }
        .table-row { transition: all 0.2s ease; border-left: 3px solid transparent; }
        .table-row:hover { background: rgba(59, 130, 246, 0.1); border-left-color: #3b82f6; transform: translateX(5px); }
        .shimmer-text { background: linear-gradient(90deg, #fff 0%, #60a5fa 50%, #fff 100%); background-size: 1000px 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shimmer 3s linear infinite; }
        .neon-border { position: relative; border: 2px solid transparent; background: linear-gradient(rgba(30, 41, 59, 0.8), rgba(30, 41, 59, 0.8)) padding-box, linear-gradient(45deg, #3b82f6, #8b5cf6, #3b82f6) border-box; }
        .leader-panel { display: flex; align-items: center; justify-content: center; gap: 0; }
        .empire-wrapper { position: relative; display: flex; align-items: center; justify-content: center; padding: 8px; border-radius: 12px; margin-right: -20px; }
        .rank-number { position: absolute; top: 10px; left: 10px; font-size: 3rem; font-weight: bold; color: #000; z-index: 10; }
        .gold-bg { background: linear-gradient(135deg, #FFD700, #FFA500); }
        .silver-bg { background: linear-gradient(135deg, #C0C0C0, #A9A9A9); }
        .bronze-bg { background: linear-gradient(135deg, #CD7F32, #B8860B); }
        .flag-img { display: inline-block; width: 20px; height: 14px; object-fit: cover; margin-right: 8px; vertical-align: middle; }
        .name-with-flag { display: inline-flex; align-items: center; }
        
        /* Tab Styles */
        .tab-container {
            background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 1rem;
            padding: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .tab-button {
            background: transparent;
            border: none;
            color: rgba(255,255,255,0.6);
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .tab-button:hover {
            color: white;
            background: rgba(255,255,255,0.05);
        }
        
        .tab-button.active {
            background: rgba(59, 130, 246, 0.2);
            color: white;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Common Rail Track Animation */
        .rail-track, .hsr-track {
            position: relative;
            height: 4px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                transparent 48%, 
                currentColor 48%, 
                currentColor 52%, 
                transparent 52%, 
                transparent 100%
            );
            overflow: hidden;
        }
        
        .rail-track::before, .hsr-track::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -100%;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.8) 50%, 
                transparent 100%
            );
            animation: trainPass 3s ease-in-out infinite;
        }
        
        @keyframes trainPass {
            0% { left: -100%; }
            100% { left: 200%; }
        }
        
        /* Sleeper ties */
        .rail-ties {
            background-image: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 30px,
                currentColor 30px,
                currentColor 35px
            );
            height: 2px;
            opacity: 0.3;
        }
        
        /* Card Styles */
        .speed-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .speed-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }
        
        .speed-card:hover::before {
            left: 100%;
        }
        
        .speed-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            border-color: rgba(255,255,255,0.3);
        }
        
        /* Metro-specific styles */
        .hologram-card {
            background: linear-gradient(135deg, 
                rgba(10, 20, 50, 0.8) 0%, 
                rgba(20, 30, 60, 0.6) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 
                0 0 20px rgba(0, 255, 255, 0.2),
                inset 0 0 20px rgba(0, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
</style>
</head>
<body class="min-h-screen p-8">
<div class="max-w-7xl mx-auto">
<div class="text-center mb-12">
<h1 class="text-6xl font-bold shimmer-text mb-2">Global Empire Dashboard</h1>
<p class="text-blue-400 text-lg">Real-time Market Intelligence &amp; Research Analytics</p>
<p class="text-slate-500 text-sm mt-2">Last Updated: October 19, 2025</p>
</div>
<!-- Market Cap Section -->
<div class="mb-16">
<h2 class="text-3xl font-bold text-white mb-6 text-center">
<span class="text-blue-400">ðŸ’¹</span> Market Capitalization
            </h2>
<div class="grid grid-cols-2 gap-6 mb-12">
<div class="card-glow rounded-2xl p-6"><div class="leader-panel" id="marketCapLeaderPanel"></div></div>
<div class="card-glow rounded-2xl p-6"><div class="w-full" id="marketCapPie"></div></div>
</div>
<div class="grid grid-cols-3 gap-6">
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 1.0: Steam &amp; Colonies</h3>
<span class="text-amber-400 text-sm font-bold">Top Companies</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Company</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">Cap</th>
</tr>
</thead>
<tbody class="text-white" id="marketEmpire1Table"></tbody>
</table>
</div>
</div>
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 2.0: Oil &amp; Silicon</h3>
<span class="text-amber-400 text-sm font-bold">Top Companies</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Company</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">Cap</th>
</tr>
</thead>
<tbody class="text-white" id="marketEmpire2Table"></tbody>
</table>
</div>
</div>
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 3.0: Rare Earths, Renewables &amp; Robotics</h3>
<span class="text-amber-400 text-sm font-bold">Top Companies</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Company</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">Cap</th>
</tr>
</thead>
<tbody class="text-white" id="marketEmpire3Table"></tbody>
</table>
</div>
</div>
</div>
</div>

<!-- Research & Development Section -->
<div class="mb-16">
<h2 class="text-3xl font-bold text-white mb-6 text-center">
<span class="text-purple-400">ðŸ”¬</span> Research &amp; Development
            </h2>
<div class="grid grid-cols-2 gap-6 mb-12">
<div class="card-glow rounded-2xl p-6"><div class="leader-panel" id="rdLeaderPanel"></div></div>
<div class="card-glow rounded-2xl p-6"><div class="w-full" id="rdPie"></div></div>
</div>
<div class="grid grid-cols-3 gap-6">
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 1.0: Steam &amp; Colonies</h3>
<span class="text-amber-400 text-sm font-bold">Top Research Outputs</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Institution</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">Outputs</th>
</tr>
</thead>
<tbody class="text-white" id="rdEmpire1Table"></tbody>
</table>
</div>
</div>
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 2.0: Oil &amp; Silicon</h3>
<span class="text-amber-400 text-sm font-bold">Top Research Outputs</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Institution</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">Outputs</th>
</tr>
</thead>
<tbody class="text-white" id="rdEmpire2Table"></tbody>
</table>
</div>
</div>
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 3.0: Rare Earths, Renewables &amp; Robotics</h3>
<span class="text-amber-400 text-sm font-bold">Top Research Outputs</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Institution</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">Outputs</th>
</tr>
</thead>
<tbody class="text-white" id="rdEmpire3Table"></tbody>
</table>
</div>
</div>
</div>
</div>

<!-- GDP Section -->
<div class="mb-16">
<h2 class="text-3xl font-bold text-white mb-6 text-center">
<span class="text-green-400">ðŸ“Š</span> Gross Domestic Product
            </h2>
<div class="grid grid-cols-2 gap-6 mb-12">
<div class="card-glow rounded-2xl p-6"><div class="leader-panel" id="gdpLeaderPanel"></div></div>
<div class="card-glow rounded-2xl p-6"><div class="w-full" id="gdpPie"></div></div>
</div>
<div class="grid grid-cols-3 gap-6">
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 1.0: Steam &amp; Colonies</h3>
<span class="text-amber-400 text-sm font-bold">Top Economies</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Country</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">GDP</th>
</tr>
</thead>
<tbody class="text-white" id="gdpEmpire1Table"></tbody>
</table>
</div>
</div>
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 2.0: Oil &amp; Silicon</h3>
<span class="text-amber-400 text-sm font-bold">Top Economies</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Country</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">GDP</th>
</tr>
</thead>
<tbody class="text-white" id="gdpEmpire2Table"></tbody>
</table>
</div>
</div>
<div class="card-glow rounded-2xl p-6">
<div class="mb-4 border-b border-slate-700 pb-3">
<h3 class="text-xl font-bold text-white mb-1">Empire 3.0: Rare Earths, Renewables &amp; Robotics</h3>
<span class="text-amber-400 text-sm font-bold">Top Economies</span>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left text-sm">
<thead>
<tr class="border-b border-slate-700">
<th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
<th class="pb-2 text-slate-400 font-semibold text-xs">Country</th>
<th class="pb-2 text-slate-400 font-semibold text-xs text-right">GDP</th>
</tr>
</thead>
<tbody class="text-white" id="gdpEmpire3Table"></tbody>
</table>
</div>
</div>
</div>
</div>

<!-- Rail Infrastructure Section -->
<div class="mb-16" id="rail-section">
<h2 class="text-3xl font-bold text-white mb-6 text-center orbitron">
<span class="text-blue-400">ðŸš‚</span> Empire Rail Infrastructure - Complete Comparison
</h2>
<div class="tab-container">
    <button class="tab-button active" onclick="switchTab(event, 'rail')">Conventional Rail</button>
    <button class="tab-button" onclick="switchTab(event, 'hsr')">High-Speed Rail</button>
    <button class="tab-button" onclick="switchTab(event, 'metro')">Metro Systems</button>
</div>

<div id="rail" class="tab-content active">
    <!-- Rail Summary Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="speed-card rounded-2xl p-6 text-center">
            <h3 class="text-xl font-bold text-white mb-2 orbitron">Total Length</h3>
            <div class="text-4xl font-bold text-blue-400 mb-1" id="rail-total-length">0 km</div>
            <div class="text-sm text-slate-400">Global Network</div>
        </div>
        <div class="speed-card rounded-2xl p-6 text-center">
            <h3 class="text-xl font-bold text-white mb-2 orbitron">Empire Dominance</h3>
            <div class="text-4xl font-bold text-purple-400 mb-1" id="rail-empire-dominance">Empire 2.0: 45%</div>
            <div class="text-sm text-slate-400">Market Share</div>
        </div>
        <div class="speed-card rounded-2xl p-6 text-center">
            <h3 class="text-xl font-bold text-white mb-2 orbitron">Avg Speed</h3>
            <div class="text-4xl font-bold text-green-400 mb-1" id="rail-avg-speed">120 km/h</div>
            <div class="text-sm text-slate-400">Passenger Trains</div>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
        <div class="card-glow rounded-2xl p-6">
            <h3 class="text-xl font-bold text-white mb-4 text-center orbitron">Empire Distribution</h3>
            <div id="rail-empireChart" class="w-full h-80"></div>
        </div>
        <div class="card-glow rounded-2xl p-6">
            <h3 class="text-xl font-bold text-white mb-4 text-center orbitron">Top 10 Longest Lines</h3>
            <div id="rail-topLinesChart" class="w-full h-96"></div>
        </div>
    </div>

    <!-- Bottom Row -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="card-glow rounded-2xl p-6">
            <h3 class="text-xl font-bold text-white mb-4 text-center orbitron">By Country</h3>
            <div id="rail-countryChart" class="w-full h-96"></div>
        </div>
        <div class="card-glow rounded-2xl p-6">
            <h3 class="text-xl font-bold text-white mb-4 text-center orbitron">Detailed Network</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-left text-sm">
                    <thead>
                        <tr class="border-b border-slate-700">
                            <th class="pb-2 text-slate-400 font-semibold text-xs py-4 px-4">Empire</th>
                            <th class="pb-2 text-slate-400 font-semibold text-xs py-4 px-4">Country</th>
                            <th class="pb-2 text-slate-400 font-semibold text-xs py-4 px-4">City</th>
                            <th class="pb-2 text-slate-400 font-semibold text-xs py-4 px-4">Line</th>
                            <th class="pb-2 text-slate-400 font-semibold text-xs py-4 px-4 text-right">Length (km)</th>
                        </tr>
                    </thead>
                    <tbody id="rail-tableBody" class="text-white"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="hsr" class="tab-content">
    <!-- HSR Content Placeholder - Similar structure, but with HSR data -->
    <p class="text-white text-center text-lg py-8">High-Speed Rail content will load here (implement similar charts and tables for HSR data).</p>
</div>

<div id="metro" class="tab-content">
    <!-- Metro Content Placeholder -->
    <p class="text-white text-center text-lg py-8">Metro Systems content will load here (implement similar charts and tables for Metro data).</p>
</div>
</div>
</div>

<script>
    // Dashboard Script (from first HTML)
    // ... (Include the full loadData() and related functions from the first HTML here)
    // For brevity, assuming the truncated part is inserted; in practice, paste the full JS.

    // Rail Script (from second HTML)
    function switchTab(evt, tabName) {
        // Hide all tab contents
        var tabcontents = document.getElementsByClassName("tab-content");
        for (var i = 0; i < tabcontents.length; i++) {
            tabcontents[i].className = tabcontents[i].className.replace(" active", "");
        }
        
        // Remove active class from all tab buttons
        var tablinks = document.getElementsByClassName("tab-button");
        for (var i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        
        // Show selected tab content and add active class to button
        document.getElementById(tabName).className += " active";
        evt.currentTarget.className += " active";
    }

    // ... (Include the full rail-related functions: loadRailData, updateRailSummaryCards, createRailTotalLengthChart, etc. from the second HTML)

    // Initialize both on load
    window.addEventListener('load', function() {
        loadData();  // Dashboard init
        initRail();  // Rail init
    });
</script>
</body>
</html>
