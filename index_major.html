<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Empire Dashboard - Complete Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Inter:wght@300;400;500;600;700&family=Rajdhani:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .orbitron {
            font-family: 'Orbitron', sans-serif;
        }
        
        .rajdhani {
            font-family: 'Rajdhani', sans-serif;
        }
        
        /* Main Dashboard Styles */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        body { background: linear-gradient(-45deg, #0f172a, #1e293b, #0c1e3d, #1a1f3a); background-size: 400% 400%; animation: gradientShift 15s ease infinite; }
        .card-glow { position: relative; background: rgba(30, 41, 59, 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; }
        .card-glow:hover { transform: translateY(-5px); border-color: rgba(59, 130, 246, 0.5); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(59, 130, 246, 0.3); }
        .empire-img { transition: all 0.3s ease; filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.3)); }
        .empire-img:hover { transform: scale(1.05); filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.6)); }
        .table-row { transition: all 0.2s ease; border-left: 3px solid transparent; }
        .table-row:hover { background: rgba(59, 130, 246, 0.1); border-left-color: #3b82f6; transform: translateX(5px); }
        .shimmer-text { background: linear-gradient(90deg, #fff 0%, #60a5fa 50%, #fff 100%); background-size: 1000px 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shimmer 3s linear infinite; }
        .neon-border { position: relative; border: 2px solid transparent; background: linear-gradient(rgba(30, 41, 59, 0.8), rgba(30, 41, 59, 0.8)) padding-box, linear-gradient(45deg, #3b82f6, #8b5cf6, #3b82f6) border-box; }
        .leader-panel { display: flex; align-items: center; justify-content: center; gap: 0; }
        .empire-wrapper { position: relative; display: flex; align-items: center; justify-content: center; padding: 8px; border-radius: 12px; margin-right: -20px; }
        .rank-number { position: absolute; top: 10px; left: 10px; font-size: 3rem; font-weight: bold; color: #000; z-index: 10; }
        .gold-bg { background: linear-gradient(135deg, #FFD700, #FFA500); }
        .silver-bg { background: linear-gradient(135deg, #C0C0C0, #A9A9A9); }
        .bronze-bg { background: linear-gradient(135deg, #CD7F32, #B8860B); }
        .flag-img { display: inline-block; width: 20px; height: 14px; object-fit: cover; margin-right: 8px; vertical-align: middle; }
        .name-with-flag { display: inline-flex; align-items: center; }
        
        /* Rail Infrastructure Styles */
        /* Tab Styles */
        .tab-container {
            background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 1rem;
            padding: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .tab-button {
            background: transparent;
            border: none;
            color: rgba(255,255,255,0.6);
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .tab-button:hover {
            color: white;
            background: rgba(255,255,255,0.05);
        }
        
        .tab-button.active {
            background: rgba(59, 130, 246, 0.2);
            color: white;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Common Rail Track Animation */
        .rail-track, .hsr-track {
            position: relative;
            height: 4px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                transparent 48%, 
                currentColor 48%, 
                currentColor 52%, 
                transparent 52%, 
                transparent 100%
            );
            overflow: hidden;
        }
        
        .rail-track::before, .hsr-track::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -100%;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.8) 50%, 
                transparent 100%
            );
            animation: trainPass 3s ease-in-out infinite;
        }
        
        @keyframes trainPass {
            0% { left: -100%; }
            100% { left: 200%; }
        }
        
        /* Sleeper ties */
        .rail-ties {
            background-image: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 30px,
                currentColor 30px,
                currentColor 35px
            );
            height: 2px;
            opacity: 0.3;
        }
        
        /* Card Styles */
        .speed-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .speed-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }
        
        .speed-card:hover::before {
            left: 100%;
        }
        
        .speed-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            border-color: rgba(255,255,255,0.3);
        }
        
        /* Metro-specific styles */
        .hologram-card {
            background: linear-gradient(135deg, 
                rgba(10, 20, 50, 0.8) 0%, 
                rgba(20, 30, 60, 0.6) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 
                0 0 20px rgba(0, 255, 255, 0.2),
                inset 0 0 20px rgba(0, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hologram-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(0, 255, 255, 0.1) 50%,
                transparent 70%
            );
            animation: scan 3s linear infinite;
        }
        
        @keyframes scan {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .hologram-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 
                0 0 40px rgba(0, 255, 255, 0.4),
                inset 0 0 30px rgba(0, 255, 255, 0.1);
        }
        
        .cyber-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(180deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 0;
            animation: gridScroll 20s linear infinite;
        }
        
        @keyframes gridScroll {
            0% { transform: translateY(0); }
            100% { transform: translateY(50px); }
        }
        
        .cyber-border {
            position: relative;
            padding: 2px;
            background: linear-gradient(45deg, #00ffff, #0080ff, #ff00ff, #00ffff);
            background-size: 300% 300%;
            animation: borderFlow 4s ease infinite;
        }
        
        @keyframes borderFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .data-stream {
            position: relative;
            overflow: hidden;
        }
        
        .data-stream::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 255, 255, 0.3) 50%, 
                transparent 100%);
            animation: stream 2s ease-in-out infinite;
        }
        
        @keyframes stream {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .metric-display {
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            letter-spacing: 2px;
        }
        
        .pulse-dot {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Empire Glow Effects */
        .steam-glow {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
            box-shadow: 0 0 40px rgba(59, 130, 246, 0.4);
        }
        
        .oil-glow {
            background: linear-gradient(135deg, #991b1b 0%, #dc2626 50%, #f87171 100%);
            box-shadow: 0 0 40px rgba(220, 38, 38, 0.4);
        }
        
        .tech-glow {
            background: linear-gradient(135deg, #065f46 0%, #10b981 50%, #6ee7b7 100%);
            box-shadow: 0 0 40px rgba(16, 185, 129, 0.4);
        }
        
        .empire-1-glow {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
        }
        
        .empire-2-glow {
            background: linear-gradient(135deg, #450a0a 0%, #991b1b 100%);
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.5);
        }
        
        .empire-3-glow {
            background: linear-gradient(135deg, #052e16 0%, #166534 100%);
            box-shadow: 0 0 30px rgba(34, 197, 94, 0.5);
        }
        
        .stat-number {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.8) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .velocity-bar {
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(255,255,255,0.2) 0%, 
                currentColor 50%, 
                rgba(255,255,255,0.2) 100%
            );
            border-radius: 4px;
            box-shadow: 0 0 20px currentColor;
            width: 0%;
            transition: width 1.5s ease-out;
        }
        
        /* Network visualization dots */
        .network-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            position: absolute;
            background: currentColor;
            box-shadow: 0 0 10px currentColor;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
            box-shadow: 0 0 10px currentColor;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Main Dashboard Content -->
    <div class="max-w-7xl mx-auto p-8">
        <div class="text-center mb-12">
            <h1 class="text-6xl font-bold shimmer-text mb-2">Global Empire Dashboard</h1>
            <p class="text-blue-400 text-lg">Real-time Market Intelligence &amp; Research Analytics</p>
            <p class="text-slate-500 text-sm mt-2">Last Updated: October 19, 2025</p>
        </div>
        
        <!-- Market Cap Section -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold text-white mb-6 text-center">
                <span class="text-blue-400">üíπ</span> Market Capitalization
            </h2>
            <div class="grid grid-cols-2 gap-6 mb-12">
                <div class="card-glow rounded-2xl p-6"><div class="leader-panel" id="marketCapLeaderPanel"></div></div>
                <div class="card-glow rounded-2xl p-6"><div class="w-full" id="marketCapPie"></div></div>
            </div>
            <div class="grid grid-cols-3 gap-6">
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 1.0: Steam &amp; Colonies</h3>
                        <span class="text-amber-400 text-sm font-bold">Top Companies</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Company</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Cap</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="marketEmpire1Table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 2.0: Oil &amp; Silicon</h3>
                        <span class="text-blue-400 text-sm font-bold">Top Companies</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Company</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Cap</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="marketEmpire2Table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 3.0: Rare Earths, Renewables &amp; Robotics</h3>
                        <span class="text-red-400 text-sm font-bold">Top Companies</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Company</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Cap</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="marketEmpire3Table"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- R&D Section -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold text-white mb-6 text-center">
                <span class="text-purple-400">üî¨</span> 2025 Research Leaders: Leading Countries/Institutions via Nature Index
            </h2>
            <div class="grid grid-cols-2 gap-6 mb-12">
                <div class="card-glow rounded-2xl p-6"><div class="leader-panel" id="researchLeaderPanel"></div></div>
                <div class="card-glow rounded-2xl p-6"><div class="w-full" id="rdPie"></div></div>
            </div>
            <div class="grid grid-cols-3 gap-6">
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 1.0: Steam &amp; Colonies</h3>
                        <span class="text-amber-400 text-sm font-bold">Top Institutions</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Global Rank</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Institution</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Research Share</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="researchEmpire1Table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 2.0: Oil &amp; Silicon</h3>
                        <span class="text-blue-400 text-sm font-bold">Top Institutions</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Global Rank</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Institution</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Research Share</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="researchEmpire2Table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 3.0: Rare Earths, Renewables &amp; Robotics</h3>
                        <span class="text-red-400 text-sm font-bold">Top Institutions</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Global Rank</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">Institution</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Research Share</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="researchEmpire3Table"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- GDP Section (kept simple) -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold text-white mb-6 text-center">
                <span class="text-green-400">üåç</span> GDP PPP (2025)
            </h2>
            <div class="grid grid-cols-2 gap-6 mb-12">
                <div class="card-glow rounded-2xl p-6"><div class="leader-panel" id="gdpLeaderPanel"></div></div>
                <div class="card-glow rounded-2xl p-6"><div class="w-full" id="gdpPie"></div></div>
            </div>
        </div>
        
        <!-- Population Section -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold text-white mb-6 text-center">
                <span class="text-yellow-400">üèôÔ∏è</span> Top Cities by Population
            </h2>
            <div class="grid grid-cols-3 gap-6">
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 1.0: Steam &amp; Colonies</h3>
                        <span class="text-amber-400 text-sm font-bold">Top Cities</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">City</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Population</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="citiesEmpire1Table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 2.0: Oil &amp; Silicon</h3>
                        <span class="text-blue-400 text-sm font-bold">Top Cities</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">City</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Population</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="citiesEmpire2Table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card-glow rounded-2xl p-6">
                    <div class="mb-4 border-b border-slate-700 pb-3">
                        <h3 class="text-xl font-bold text-white mb-1">Empire 3.0: Rare Earths, Renewables &amp; Robotics</h3>
                        <span class="text-red-400 text-sm font-bold">Top Cities</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">#</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs">City</th>
                                    <th class="pb-2 text-slate-400 font-semibold text-xs text-right">Population</th>
                                </tr>
                            </thead>
                            <tbody class="text-white" id="citiesEmpire3Table"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Rail Infrastructure Section -->
    <div class="relative z-10 bg-gradient-to-br from-gray-900 via-slate-900 to-black text-white py-16">
        <div class="container mx-auto px-8">
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="inline-block mb-6">
                    <h1 class="text-6xl md:text-7xl font-black mb-2 orbitron bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
                        EMPIRE RAIL
                    </h1>
                    <div class="hsr-track text-purple-400"></div>
                </div>
                <p class="text-2xl text-slate-300 mb-4 rajdhani">Global Rail Infrastructure Analysis</p>
                <div class="flex items-center justify-center gap-4 text-slate-400">
                    <div class="w-16 h-px bg-gradient-to-r from-transparent via-slate-500 to-transparent"></div>
                    <span class="text-xs tracking-widest">COMPLETE INFRASTRUCTURE COMPARISON</span>
                    <div class="w-16 h-px bg-gradient-to-r from-transparent via-slate-500 to-transparent"></div>
                </div>
            </div>
            
            <!-- Tab Navigation -->
            <div class="tab-container mx-auto max-w-4xl">
                <div class="flex justify-center space-x-2">
                    <button class="tab-button active" data-tab="hsr">HIGH-SPEED RAIL</button>
                    <button class="tab-button" data-tab="metro">METRO SYSTEMS</button>
                    <button class="tab-button" data-tab="rail">RAIL INFRASTRUCTURE</button>
                </div>
            </div>
            
            <!-- Tab Content -->
            <div class="tab-content-container">
                <!-- HSR Tab -->
                <div id="hsr" class="tab-content active">
                    <!-- HSR content from empire_hsr.html goes here -->
                    <div class="container mx-auto px-4 pb-12">
                        <!-- Empire Speed Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                            
                            <!-- Empire 1: Steam & Colonies -->
                            <div class="speed-card rounded-2xl p-8 group">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 steam-glow rounded-xl flex items-center justify-center text-3xl">
                                        üöÇ
                                    </div>
                                    <div>
                                        <div class="text-sm text-blue-400 orbitron">EMPIRE 1.0</div>
                                        <div class="text-xl font-bold">Steam & Colonies</div>
                                        <div class="text-xs text-slate-400">British Commonwealth</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-4">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="hsr-empire1-total">-</div>
                                        <div class="text-sm text-slate-400">Total HSR Length (km)</div>
                                        <div class="velocity-bar text-blue-500 mt-2" id="hsr-empire1-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-blue-400" id="hsr-empire1-lines">-</div>
                                            <div class="text-xs text-slate-400">Lines</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-blue-400" id="hsr-empire1-countries">-</div>
                                            <div class="text-xs text-slate-400">Countries</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Empire 2: Oil & Silicon -->
                            <div class="speed-card rounded-2xl p-8 group">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 oil-glow rounded-xl flex items-center justify-center text-3xl">
                                        üõ¢Ô∏è
                                    </div>
                                    <div>
                                        <div class="text-sm text-red-400 orbitron">EMPIRE 2.0</div>
                                        <div class="text-xl font-bold">Oil & Silicon</div>
                                        <div class="text-xs text-slate-400">United States</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-4">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="hsr-empire2-total">-</div>
                                        <div class="text-sm text-slate-400">Total HSR Length (km)</div>
                                        <div class="velocity-bar text-red-500 mt-2" id="hsr-empire2-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-red-400" id="hsr-empire2-lines">-</div>
                                            <div class="text-xs text-slate-400">Lines</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-red-400" id="hsr-empire2-countries">-</div>
                                            <div class="text-xs text-slate-400">Countries</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Empire 3: Rare Earths & Robotics -->
                            <div class="speed-card rounded-2xl p-8 group relative">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 tech-glow rounded-xl flex items-center justify-center text-3xl">
                                        ü§ñ
                                    </div>
                                    <div>
                                        <div class="text-sm text-green-400 orbitron">EMPIRE 3.0</div>
                                        <div class="text-xl font-bold">Rare Earths & Robotics</div>
                                        <div class="text-xs text-slate-400">China + HK + Taiwan</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-4">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="hsr-empire3-total">-</div>
                                        <div class="text-sm text-slate-400">Total HSR Length (km)</div>
                                        <div class="velocity-bar text-green-500 mt-2" id="hsr-empire3-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-green-400" id="hsr-empire3-lines">-</div>
                                            <div class="text-xs text-slate-400">Lines</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-green-400" id="hsr-empire3-countries">-</div>
                                            <div class="text-xs text-slate-400">Countries</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- HSR Data Table -->
                        <div class="hologram-card rounded-2xl p-8 mb-16">
                            <div class="flex items-center justify-between mb-8">
                                <h2 class="text-3xl font-bold orbitron text-cyan-300">HIGH-SPEED RAIL NETWORK</h2>
                                <div class="flex items-center gap-2 text-cyan-300">
                                    <div class="pulse-dot w-3 h-3 rounded-full bg-cyan-300"></div>
                                    <span class="text-sm orbitron">LIVE DATA</span>
                                </div>
                            </div>
                            
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b border-cyan-800/50">
                                            <th class="pb-4 text-left text-cyan-300 orbitron">COUNTRY</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">LENGTH (KM)</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">LINES</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">MAX SPEED (KM/H)</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">EMPIRE</th>
                                        </tr>
                                    </thead>
                                    <tbody id="hsr-table-body">
                                        <!-- HSR data will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- HSR Visualization -->
                        <div class="hologram-card rounded-2xl p-8">
                            <h2 class="text-3xl font-bold orbitron text-cyan-300 mb-8">HSR NETWORK COMPARISON</h2>
                            <div id="hsr-chart" class="w-full h-96"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Metro Tab -->
                <div id="metro" class="tab-content">
                    <!-- Metro content from empire_metro.html goes here -->
                    <div class="container mx-auto px-4 pb-12">
                        <!-- Metro Stats Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                            
                            <!-- Empire 1: Steam & Colonies -->
                            <div class="hologram-card rounded-2xl p-8">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 empire-1-glow rounded-xl flex items-center justify-center text-3xl">
                                        üöá
                                    </div>
                                    <div>
                                        <div class="text-sm text-blue-400 orbitron">EMPIRE 1.0</div>
                                        <div class="text-xl font-bold">Steam & Colonies</div>
                                        <div class="text-xs text-slate-400">British Commonwealth</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="metro-empire1-total">-</div>
                                        <div class="text-sm text-slate-400">Total Metro Length (km)</div>
                                        <div class="velocity-bar text-blue-500 mt-2" id="metro-empire1-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-cyan-800/30">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-blue-400" id="metro-empire1-systems">-</div>
                                            <div class="text-xs text-slate-400">Systems</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-blue-400" id="metro-empire1-stations">-</div>
                                            <div class="text-xs text-slate-400">Stations</div>
                                        </div>
                                    </div>
                                    
                                    <div class="pt-4 border-t border-cyan-800/30">
                                        <div class="text-sm text-slate-400 mb-2">TOP CITIES</div>
                                        <div class="text-lg font-medium" id="metro-empire1-cities">-</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Empire 2: Oil & Silicon -->
                            <div class="hologram-card rounded-2xl p-8">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 empire-2-glow rounded-xl flex items-center justify-center text-3xl">
                                        üöá
                                    </div>
                                    <div>
                                        <div class="text-sm text-red-400 orbitron">EMPIRE 2.0</div>
                                        <div class="text-xl font-bold">Oil & Silicon</div>
                                        <div class="text-xs text-slate-400">United States</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="metro-empire2-total">-</div>
                                        <div class="text-sm text-slate-400">Total Metro Length (km)</div>
                                        <div class="velocity-bar text-red-500 mt-2" id="metro-empire2-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-cyan-800/30">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-red-400" id="metro-empire2-systems">-</div>
                                            <div class="text-xs text-slate-400">Systems</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-red-400" id="metro-empire2-stations">-</div>
                                            <div class="text-xs text-slate-400">Stations</div>
                                        </div>
                                    </div>
                                    
                                    <div class="pt-4 border-t border-cyan-800/30">
                                        <div class="text-sm text-slate-400 mb-2">TOP CITIES</div>
                                        <div class="text-lg font-medium" id="metro-empire2-cities">-</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Empire 3: Rare Earths & Robotics -->
                            <div class="hologram-card rounded-2xl p-8">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 empire-3-glow rounded-xl flex items-center justify-center text-3xl">
                                        üöá
                                    </div>
                                    <div>
                                        <div class="text-sm text-green-400 orbitron">EMPIRE 3.0</div>
                                        <div class="text-xl font-bold">Rare Earths & Robotics</div>
                                        <div class="text-xs text-slate-400">China + HK + Taiwan</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="metro-empire3-total">-</div>
                                        <div class="text-sm text-slate-400">Total Metro Length (km)</div>
                                        <div class="velocity-bar text-green-500 mt-2" id="metro-empire3-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-cyan-800/30">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-green-400" id="metro-empire3-systems">-</div>
                                            <div class="text-xs text-slate-400">Systems</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-green-400" id="metro-empire3-stations">-</div>
                                            <div class="text-xs text-slate-400">Stations</div>
                                        </div>
                                    </div>
                                    
                                    <div class="pt-4 border-t border-cyan-800/30">
                                        <div class="text-sm text-slate-400 mb-2">TOP CITIES</div>
                                        <div class="text-lg font-medium" id="metro-empire3-cities">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Metro Data Table -->
                        <div class="hologram-card rounded-2xl p-8 mb-16">
                            <div class="flex items-center justify-between mb-8">
                                <h2 class="text-3xl font-bold orbitron text-cyan-300">METRO SYSTEM NETWORK</h2>
                                <div class="flex items-center gap-2 text-cyan-300">
                                    <div class="pulse-dot w-3 h-3 rounded-full bg-cyan-300"></div>
                                    <span class="text-sm orbitron">LIVE DATA</span>
                                </div>
                            </div>
                            
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b border-cyan-800/50">
                                            <th class="pb-4 text-left text-cyan-300 orbitron">CITY</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">LENGTH (KM)</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">LINES</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">STATIONS</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">EMPIRE</th>
                                        </tr>
                                    </thead>
                                    <tbody id="metro-table-body">
                                        <!-- Metro data will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Metro Visualization -->
                        <div class="hologram-card rounded-2xl p-8">
                            <h2 class="text-3xl font-bold orbitron text-cyan-300 mb-8">METRO NETWORK COMPARISON</h2>
                            <div id="metro-chart" class="w-full h-96"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Rail Infrastructure Tab -->
                <div id="rail" class="tab-content">
                    <!-- Rail Infrastructure content from empire_rail.html goes here -->
                    <div class="container mx-auto px-4 pb-12">
                        <!-- Rail Infrastructure Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                            
                            <!-- Empire 1: Steam & Colonies -->
                            <div class="speed-card rounded-2xl p-8">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 empire-1-glow rounded-xl flex items-center justify-center text-3xl">
                                        üõ§Ô∏è
                                    </div>
                                    <div>
                                        <div class="text-sm text-blue-400 orbitron">EMPIRE 1.0</div>
                                        <div class="text-xl font-bold">Steam & Colonies</div>
                                        <div class="text-xs text-slate-400">British Commonwealth</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="rail-empire1-total">-</div>
                                        <div class="text-sm text-slate-400">Total Rail Length (km)</div>
                                        <div class="velocity-bar text-blue-500 mt-2" id="rail-empire1-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-blue-400" id="rail-empire1-countries">-</div>
                                            <div class="text-xs text-slate-400">Countries</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-blue-400" id="rail-empire1-electrified">-</div>
                                            <div class="text-xs text-slate-400">Electrified %</div>
                                        </div>
                                    </div>
                                    
                                    <div class="pt-4 border-t border-slate-700">
                                        <div class="text-sm text-slate-400 mb-2">TOP COUNTRIES</div>
                                        <div class="text-lg font-medium" id="rail-empire1-top">-</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Empire 2: Oil & Silicon -->
                            <div class="speed-card rounded-2xl p-8">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 empire-2-glow rounded-xl flex items-center justify-center text-3xl">
                                        üõ§Ô∏è
                                    </div>
                                    <div>
                                        <div class="text-sm text-red-400 orbitron">EMPIRE 2.0</div>
                                        <div class="text-xl font-bold">Oil & Silicon</div>
                                        <div class="text-xs text-slate-400">United States</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="rail-empire2-total">-</div>
                                        <div class="text-sm text-slate-400">Total Rail Length (km)</div>
                                        <div class="velocity-bar text-red-500 mt-2" id="rail-empire2-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-red-400" id="rail-empire2-countries">-</div>
                                            <div class="text-xs text-slate-400">Countries</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-red-400" id="rail-empire2-electrified">-</div>
                                            <div class="text-xs text-slate-400">Electrified %</div>
                                        </div>
                                    </div>
                                    
                                    <div class="pt-4 border-t border-slate-700">
                                        <div class="text-sm text-slate-400 mb-2">TOP COUNTRIES</div>
                                        <div class="text-lg font-medium" id="rail-empire2-top">-</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Empire 3: Rare Earths & Robotics -->
                            <div class="speed-card rounded-2xl p-8">
                                <div class="flex items-center gap-4 mb-6">
                                    <div class="w-16 h-16 empire-3-glow rounded-xl flex items-center justify-center text-3xl">
                                        üõ§Ô∏è
                                    </div>
                                    <div>
                                        <div class="text-sm text-green-400 orbitron">EMPIRE 3.0</div>
                                        <div class="text-xl font-bold">Rare Earths & Robotics</div>
                                        <div class="text-xs text-slate-400">China + HK + Taiwan</div>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <div class="stat-number text-5xl mb-1" id="rail-empire3-total">-</div>
                                        <div class="text-sm text-slate-400">Total Rail Length (km)</div>
                                        <div class="velocity-bar text-green-500 mt-2" id="rail-empire3-bar"></div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700">
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-green-400" id="rail-empire3-countries">-</div>
                                            <div class="text-xs text-slate-400">Countries</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold orbitron text-green-400" id="rail-empire3-electrified">-</div>
                                            <div class="text-xs text-slate-400">Electrified %</div>
                                        </div>
                                    </div>
                                    
                                    <div class="pt-4 border-t border-slate-700">
                                        <div class="text-sm text-slate-400 mb-2">TOP COUNTRIES</div>
                                        <div class="text-lg font-medium" id="rail-empire3-top">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Rail Infrastructure Data Table -->
                        <div class="hologram-card rounded-2xl p-8 mb-16">
                            <div class="flex items-center justify-between mb-8">
                                <h2 class="text-3xl font-bold orbitron text-cyan-300">RAIL INFRASTRUCTURE NETWORK</h2>
                                <div class="flex items-center gap-2 text-cyan-300">
                                    <div class="pulse-dot w-3 h-3 rounded-full bg-cyan-300"></div>
                                    <span class="text-sm orbitron">LIVE DATA</span>
                                </div>
                            </div>
                            
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b border-cyan-800/50">
                                            <th class="pb-4 text-left text-cyan-300 orbitron">COUNTRY</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">TOTAL LENGTH (KM)</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">ELECTRIFIED (KM)</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">ELECTRIFIED %</th>
                                            <th class="pb-4 text-right text-cyan-300 orbitron">EMPIRE</th>
                                        </tr>
                                    </thead>
                                    <tbody id="rail-table-body">
                                        <!-- Rail data will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Rail Infrastructure Visualization -->
                        <div class="hologram-card rounded-2xl p-8">
                            <h2 class="text-3xl font-bold orbitron text-cyan-300 mb-8">RAIL INFRASTRUCTURE COMPARISON</h2>
                            <div id="rail-chart" class="w-full h-96"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Background Grid -->
    <div class="cyber-grid"></div>
    
    <script>
        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and contents
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Show corresponding content
                const tabId = button.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Sample data for the dashboard
        const marketCapData = {
            empire1: [
                { name: "British Petroleum", cap: "2.1T" },
                { name: "Royal Dutch Shell", cap: "1.8T" },
                { name: "HSBC Holdings", cap: "1.5T" },
                { name: "Unilever", cap: "1.3T" },
                { name: "Rio Tinto", cap: "1.1T" }
            ],
            empire2: [
                { name: "Apple Inc.", cap: "3.2T" },
                { name: "Microsoft", cap: "2.9T" },
                { name: "Amazon", cap: "2.7T" },
                { name: "Alphabet", cap: "2.5T" },
                { name: "Tesla", cap: "1.8T" }
            ],
            empire3: [
                { name: "Tencent", cap: "2.4T" },
                { name: "Alibaba", cap: "2.1T" },
                { name: "BYD", cap: "1.9T" },
                { name: "CATL", cap: "1.6T" },
                { name: "Huawei", cap: "1.4T" }
            ]
        };
        
        const researchData = {
            empire1: [
                { rank: 4, name: "University of Cambridge", share: "1.8%" },
                { rank: 6, name: "University of Oxford", share: "1.6%" },
                { rank: 12, name: "Imperial College London", share: "1.2%" },
                { rank: 18, name: "University of Toronto", share: "1.0%" },
                { rank: 22, name: "University of Melbourne", share: "0.9%" }
            ],
            empire2: [
                { rank: 1, name: "Harvard University", share: "2.5%" },
                { rank: 2, name: "Stanford University", share: "2.3%" },
                { rank: 3, name: "MIT", share: "2.1%" },
                { rank: 5, name: "UC Berkeley", share: "1.7%" },
                { rank: 7, name: "University of Washington", share: "1.5%" }
            ],
            empire3: [
                { rank: 8, name: "Chinese Academy of Sciences", share: "1.4%" },
                { rank: 9, name: "Tsinghua University", share: "1.3%" },
                { rank: 11, name: "Peking University", share: "1.2%" },
                { rank: 15, name: "Zhejiang University", share: "1.1%" },
                { rank: 19, name: "Shanghai Jiao Tong University", share: "1.0%" }
            ]
        };
        
        const citiesData = {
            empire1: [
                { name: "London", population: "9.5M" },
                { name: "Sydney", population: "5.3M" },
                { name: "Toronto", population: "6.4M" },
                { name: "Melbourne", population: "5.1M" },
                { name: "Singapore", population: "5.9M" }
            ],
            empire2: [
                { name: "New York", population: "8.8M" },
                { name: "Los Angeles", population: "4.0M" },
                { name: "Chicago", population: "2.7M" },
                { name: "Houston", population: "2.3M" },
                { name: "Phoenix", population: "1.7M" }
            ],
            empire3: [
                { name: "Shanghai", population: "27.1M" },
                { name: "Beijing", population: "21.5M" },
                { name: "Chongqing", population: "16.3M" },
                { name: "Tianjin", population: "13.9M" },
                { name: "Guangzhou", population: "13.6M" }
            ]
        };
        
        // Populate tables with data
        function populateTable(tableId, data, isMarketCap = false) {
            const table = document.getElementById(tableId);
            table.innerHTML = '';
            
            data.forEach((item, index) => {
                const row = document.createElement('tr');
                row.className = 'table-row border-b border-slate-800';
                
                if (isMarketCap) {
                    row.innerHTML = `
                        <td class="py-3 text-slate-400">${index + 1}</td>
                        <td class="py-3 font-medium">${item.name}</td>
                        <td class="py-3 text-right font-medium">$${item.cap}</td>
                    `;
                } else {
                    row.innerHTML = `
                        <td class="py-3 text-slate-400">${item.rank}</td>
                        <td class="py-3 font-medium">${item.name}</td>
                        <td class="py-3 text-right font-medium">${item.share}</td>
                    `;
                }
                
                table.appendChild(row);
            });
        }
        
        // Initialize the dashboard
        function initDashboard() {
            // Populate market cap tables
            populateTable('marketEmpire1Table', marketCapData.empire1, true);
            populateTable('marketEmpire2Table', marketCapData.empire2, true);
            populateTable('marketEmpire3Table', marketCapData.empire3, true);
            
            // Populate research tables
            populateTable('researchEmpire1Table', researchData.empire1);
            populateTable('researchEmpire2Table', researchData.empire2);
            populateTable('researchEmpire3Table', researchData.empire3);
            
            // Populate cities tables
            populateTable('citiesEmpire1Table', citiesData.empire1, true);
            populateTable('citiesEmpire2Table', citiesData.empire2, true);
            populateTable('citiesEmpire3Table', citiesData.empire3, true);
            
            // Create leader panels
            createLeaderPanel('marketCapLeaderPanel', [
                { name: "Empire 2.0", value: "$13.1T", color: "blue" },
                { name: "Empire 3.0", value: "$9.4T", color: "green" },
                { name: "Empire 1.0", value: "$7.8T", color: "amber" }
            ]);
            
            createLeaderPanel('researchLeaderPanel', [
                { name: "Empire 2.0", value: "9.1%", color: "blue" },
                { name: "Empire 3.0", value: "6.0%", color: "green" },
                { name: "Empire 1.0", value: "6.5%", color: "amber" }
            ]);
            
            createLeaderPanel('gdpLeaderPanel', [
                { name: "Empire 3.0", value: "$30.5T", color: "green" },
                { name: "Empire 2.0", value: "$25.5T", color: "blue" },
                { name: "Empire 1.0", value: "$10.2T", color: "amber" }
            ]);
            
            // Create pie charts
            createPieChart('marketCapPie', [7.8, 13.1, 9.4], ['Empire 1.0', 'Empire 2.0', 'Empire 3.0'], ['#f59e0b', '#3b82f6', '#10b981']);
            createPieChart('rdPie', [6.5, 9.1, 6.0], ['Empire 1.0', 'Empire 2.0', 'Empire 3.0'], ['#f59e0b', '#3b82f6', '#10b981']);
            createPieChart('gdpPie', [10.2, 25.5, 30.5], ['Empire 1.0', 'Empire 2.0', 'Empire 3.0'], ['#f59e0b', '#3b82f6', '#10b981']);
        }
        
        // Create leader panel
        function createLeaderPanel(containerId, leaders) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            leaders.forEach((leader, index) => {
                const wrapper = document.createElement('div');
                wrapper.className = 'empire-wrapper';
                
                const rank = document.createElement('div');
                rank.className = `rank-number ${index === 0 ? 'gold-bg' : index === 1 ? 'silver-bg' : 'bronze-bg'}`;
                rank.textContent = index + 1;
                
                const panel = document.createElement('div');
                panel.className = `card-glow rounded-2xl p-6 flex items-center justify-between w-80 ${index === 0 ? 'steam-glow' : index === 1 ? 'oil-glow' : 'tech-glow'}`;
                
                panel.innerHTML = `
                    <div>
                        <h3 class="text-xl font-bold text-white">${leader.name}</h3>
                        <p class="text-${leader.color}-400 text-sm">Total Value</p>
                    </div>
                    <div class="text-2xl font-bold text-white">${leader.value}</div>
                `;
                
                wrapper.appendChild(rank);
                wrapper.appendChild(panel);
                container.appendChild(wrapper);
            });
        }
        
        // Create pie chart
        function createPieChart(containerId, values, labels, colors) {
            const data = [{
                values: values,
                labels: labels,
                type: 'pie',
                hole: 0.5,
                marker: {
                    colors: colors
                },
                textinfo: 'label+percent',
                textposition: 'inside',
                insidetextorientation: 'radial',
                hoverinfo: 'label+value+percent',
                textfont: {
                    family: 'Orbitron',
                    size: 14,
                    color: 'white'
                }
            }];
            
            const layout = {
                height: 300,
                showlegend: false,
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                margin: { t: 0, b: 0, l: 0, r: 0 },
                font: {
                    family: 'Orbitron',
                    color: 'white'
                }
            };
            
            Plotly.newPlot(containerId, data, layout, { displayModeBar: false });
        }
        
        // Initialize the dashboard when the page loads
        document.addEventListener('DOMContentLoaded', initDashboard);
        
        // Rail Infrastructure Data
        const hsrData = [
            { country: "United Kingdom", length: 113, lines: 1, speed: 300, empire: 1 },
            { country: "Australia", length: 0, lines: 0, speed: 0, empire: 1 },
            { country: "Canada", length: 0, lines: 0, speed: 0, empire: 1 },
            { country: "United States", length: 735, lines: 1, speed: 240, empire: 2 },
            { country: "China", length: 37997, lines: 318, speed: 350, empire: 3 },
            { country: "Taiwan", length: 345, lines: 1, speed: 300, empire: 3 },
            { country: "Hong Kong", length: 26, lines: 1, speed: 200, empire: 3 }
        ];
        
        const metroData = [
            { city: "London", length: 402, lines: 11, stations: 272, empire: 1 },
            { city: "Sydney", length: 36, lines: 1, stations: 13, empire: 1 },
            { city: "Toronto", length: 76.9, lines: 4, stations: 75, empire: 1 },
            { city: "New York", length: 394, lines: 36, stations: 472, empire: 2 },
            { city: "Los Angeles", length: 169, lines: 6, stations: 93, empire: 2 },
            { city: "Chicago", length: 165.4, lines: 8, stations: 145, empire: 2 },
            { city: "Shanghai", length: 831, lines: 19, stations: 508, empire: 3 },
            { city: "Beijing", length: 783, lines: 27, stations: 463, empire: 3 },
            { city: "Guangzhou", length: 621, lines: 16, stations: 294, empire: 3 }
        ];
        
        const railData = [
            { country: "United Kingdom", totalLength: 15754, electrified: 5371, empire: 1 },
            { country: "Australia", totalLength: 33508, electrified: 3315, empire: 1 },
            { country: "Canada", totalLength: 49822, electrified: 129, empire: 1 },
            { country: "United States", totalLength: 220000, electrified: 1600, empire: 2 },
            { country: "China", totalLength: 146300, electrified: 100000, empire: 3 },
            { country: "Taiwan", totalLength: 1696, electrified: 1200, empire: 3 },
            { country: "Hong Kong", totalLength: 264, electrified: 264, empire: 3 }
        ];
        
        // Populate HSR data
        function populateHSRData() {
            const tableBody = document.getElementById('hsr-table-body');
            tableBody.innerHTML = '';
            
            let empire1Total = 0, empire1Lines = 0, empire1Countries = 0;
            let empire2Total = 0, empire2Lines = 0, empire2Countries = 0;
            let empire3Total = 0, empire3Lines = 0, empire3Countries = 0;
            
            hsrData.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b border-cyan-800/30 hover:bg-cyan-900/20 transition-colors';
                
                // Determine empire color
                let empireColor = '';
                let empireText = '';
                if (item.empire === 1) {
                    empireColor = 'text-blue-400';
                    empireText = 'Empire 1.0';
                    empire1Total += item.length;
                    empire1Lines += item.lines;
                    if (item.length > 0) empire1Countries++;
                } else if (item.empire === 2) {
                    empireColor = 'text-red-400';
                    empireText = 'Empire 2.0';
                    empire2Total += item.length;
                    empire2Lines += item.lines;
                    if (item.length > 0) empire2Countries++;
                } else {
                    empireColor = 'text-green-400';
                    empireText = 'Empire 3.0';
                    empire3Total += item.length;
                    empire3Lines += item.lines;
                    if (item.length > 0) empire3Countries++;
                }
                
                row.innerHTML = `
                    <td class="py-4 font-medium">${item.country}</td>
                    <td class="py-4 text-right font-bold orbitron">${item.length.toLocaleString()} km</td>
                    <td class="py-4 text-right">${item.lines}</td>
                    <td class="py-4 text-right">${item.speed > 0 ? item.speed + ' km/h' : '-'}</td>
                    <td class="py-4 text-right ${empireColor} orbitron">${empireText}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Update summary cards
            document.getElementById('hsr-empire1-total').textContent = empire1Total.toLocaleString();
            document.getElementById('hsr-empire1-lines').textContent = empire1Lines;
            document.getElementById('hsr-empire1-countries').textContent = empire1Countries;
            
            document.getElementById('hsr-empire2-total').textContent = empire2Total.toLocaleString();
            document.getElementById('hsr-empire2-lines').textContent = empire2Lines;
            document.getElementById('hsr-empire2-countries').textContent = empire2Countries;
            
            document.getElementById('hsr-empire3-total').textContent = empire3Total.toLocaleString();
            document.getElementById('hsr-empire3-lines').textContent = empire3Lines;
            document.getElementById('hsr-empire3-countries').textContent = empire3Countries;
            
            // Animate bars
            setTimeout(() => {
                const maxTotal = Math.max(empire1Total, empire2Total, empire3Total);
                document.getElementById('hsr-empire1-bar').style.width = `${(empire1Total / maxTotal) * 100}%`;
                document.getElementById('hsr-empire2-bar').style.width = `${(empire2Total / maxTotal) * 100}%`;
                document.getElementById('hsr-empire3-bar').style.width = `${(empire3Total / maxTotal) * 100}%`;
            }, 500);
            
            // Create HSR chart
            createHSRChart(empire1Total, empire2Total, empire3Total);
        }
        
        // Populate Metro data
        function populateMetroData() {
            const tableBody = document.getElementById('metro-table-body');
            tableBody.innerHTML = '';
            
            let empire1Total = 0, empire1Systems = 0, empire1Stations = 0;
            let empire2Total = 0, empire2Systems = 0, empire2Stations = 0;
            let empire3Total = 0, empire3Systems = 0, empire3Stations = 0;
            let empire1Cities = [], empire2Cities = [], empire3Cities = [];
            
            metroData.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b border-cyan-800/30 hover:bg-cyan-900/20 transition-colors';
                
                // Determine empire color
                let empireColor = '';
                let empireText = '';
                if (item.empire === 1) {
                    empireColor = 'text-blue-400';
                    empireText = 'Empire 1.0';
                    empire1Total += item.length;
                    empire1Systems++;
                    empire1Stations += item.stations;
                    empire1Cities.push(item.city);
                } else if (item.empire === 2) {
                    empireColor = 'text-red-400';
                    empireText = 'Empire 2.0';
                    empire2Total += item.length;
                    empire2Systems++;
                    empire2Stations += item.stations;
                    empire2Cities.push(item.city);
                } else {
                    empireColor = 'text-green-400';
                    empireText = 'Empire 3.0';
                    empire3Total += item.length;
                    empire3Systems++;
                    empire3Stations += item.stations;
                    empire3Cities.push(item.city);
                }
                
                row.innerHTML = `
                    <td class="py-4 font-medium">${item.city}</td>
                    <td class="py-4 text-right font-bold orbitron">${item.length.toLocaleString()} km</td>
                    <td class="py-4 text-right">${item.lines}</td>
                    <td class="py-4 text-right">${item.stations.toLocaleString()}</td>
                    <td class="py-4 text-right ${empireColor} orbitron">${empireText}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Update summary cards
            document.getElementById('metro-empire1-total').textContent = empire1Total.toLocaleString();
            document.getElementById('metro-empire1-systems').textContent = empire1Systems;
            document.getElementById('metro-empire1-stations').textContent = empire1Stations.toLocaleString();
            document.getElementById('metro-empire1-cities').textContent = empire1Cities.slice(0, 3).join(', ');
            
            document.getElementById('metro-empire2-total').textContent = empire2Total.toLocaleString();
            document.getElementById('metro-empire2-systems').textContent = empire2Systems;
            document.getElementById('metro-empire2-stations').textContent = empire2Stations.toLocaleString();
            document.getElementById('metro-empire2-cities').textContent = empire2Cities.slice(0, 3).join(', ');
            
            document.getElementById('metro-empire3-total').textContent = empire3Total.toLocaleString();
            document.getElementById('metro-empire3-systems').textContent = empire3Systems;
            document.getElementById('metro-empire3-stations').textContent = empire3Stations.toLocaleString();
            document.getElementById('metro-empire3-cities').textContent = empire3Cities.slice(0, 3).join(', ');
            
            // Animate bars
            setTimeout(() => {
                const maxTotal = Math.max(empire1Total, empire2Total, empire3Total);
                document.getElementById('metro-empire1-bar').style.width = `${(empire1Total / maxTotal) * 100}%`;
                document.getElementById('metro-empire2-bar').style.width = `${(empire2Total / maxTotal) * 100}%`;
                document.getElementById('metro-empire3-bar').style.width = `${(empire3Total / maxTotal) * 100}%`;
            }, 500);
            
            // Create Metro chart
            createMetroChart(empire1Total, empire2Total, empire3Total);
        }
        
        // Populate Rail Infrastructure data
        function populateRailData() {
            const tableBody = document.getElementById('rail-table-body');
            tableBody.innerHTML = '';
            
            let empire1Total = 0, empire1Countries = 0, empire1Electrified = 0;
            let empire2Total = 0, empire2Countries = 0, empire2Electrified = 0;
            let empire3Total = 0, empire3Countries = 0, empire3Electrified = 0;
            let empire1Top = [], empire2Top = [], empire3Top = [];
            
            railData.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b border-cyan-800/30 hover:bg-cyan-900/20 transition-colors';
                
                const electrifiedPercent = ((item.electrified / item.totalLength) * 100).toFixed(1);
                
                // Determine empire color
                let empireColor = '';
                let empireText = '';
                if (item.empire === 1) {
                    empireColor = 'text-blue-400';
                    empireText = 'Empire 1.0';
                    empire1Total += item.totalLength;
                    empire1Countries++;
                    empire1Electrified += item.electrified;
                    empire1Top.push({name: item.country, length: item.totalLength});
                } else if (item.empire === 2) {
                    empireColor = 'text-red-400';
                    empireText = 'Empire 2.0';
                    empire2Total += item.totalLength;
                    empire2Countries++;
                    empire2Electrified += item.electrified;
                    empire2Top.push({name: item.country, length: item.totalLength});
                } else {
                    empireColor = 'text-green-400';
                    empireText = 'Empire 3.0';
                    empire3Total += item.totalLength;
                    empire3Countries++;
                    empire3Electrified += item.electrified;
                    empire3Top.push({name: item.country, length: item.totalLength});
                }
                
                row.innerHTML = `
                    <td class="py-4 font-medium">${item.country}</td>
                    <td class="py-4 text-right font-bold orbitron">${item.totalLength.toLocaleString()} km</td>
                    <td class="py-4 text-right">${item.electrified.toLocaleString()} km</td>
                    <td class="py-4 text-right">${electrifiedPercent}%</td>
                    <td class="py-4 text-right ${empireColor} orbitron">${empireText}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Sort and get top countries
            empire1Top.sort((a, b) => b.length - a.length);
            empire2Top.sort((a, b) => b.length - a.length);
            empire3Top.sort((a, b) => b.length - a.length);
            
            // Update summary cards
            document.getElementById('rail-empire1-total').textContent = empire1Total.toLocaleString();
            document.getElementById('rail-empire1-countries').textContent = empire1Countries;
            document.getElementById('rail-empire1-electrified').textContent = ((empire1Electrified / empire1Total) * 100).toFixed(1) + '%';
            document.getElementById('rail-empire1-top').textContent = empire1Top.slice(0, 2).map(c => c.name).join(', ');
            
            document.getElementById('rail-empire2-total').textContent = empire2Total.toLocaleString();
            document.getElementById('rail-empire2-countries').textContent = empire2Countries;
            document.getElementById('rail-empire2-electrified').textContent = ((empire2Electrified / empire2Total) * 100).toFixed(1) + '%';
            document.getElementById('rail-empire2-top').textContent = empire2Top.slice(0, 2).map(c => c.name).join(', ');
            
            document.getElementById('rail-empire3-total').textContent = empire3Total.toLocaleString();
            document.getElementById('rail-empire3-countries').textContent = empire3Countries;
            document.getElementById('rail-empire3-electrified').textContent = ((empire3Electrified / empire3Total) * 100).toFixed(1) + '%';
            document.getElementById('rail-empire3-top').textContent = empire3Top.slice(0, 2).map(c => c.name).join(', ');
            
            // Animate bars
            setTimeout(() => {
                const maxTotal = Math.max(empire1Total, empire2Total, empire3Total);
                document.getElementById('rail-empire1-bar').style.width = `${(empire1Total / maxTotal) * 100}%`;
                document.getElementById('rail-empire2-bar').style.width = `${(empire2Total / maxTotal) * 100}%`;
                document.getElementById('rail-empire3-bar').style.width = `${(empire3Total / maxTotal) * 100}%`;
            }, 500);
            
            // Create Rail chart
            createRailChart(empire1Total, empire2Total, empire3Total);
        }
        
        // Create HSR Chart
        function createHSRChart(empire1, empire2, empire3) {
            const data = [
                {
                    x: ['Empire 1.0', 'Empire 2.0', 'Empire 3.0'],
                    y: [empire1, empire2, empire3],
                    type: 'bar',
                    marker: {
                        color: ['#3b82f6', '#ef4444', '#10b981']
                    }
                }
            ];
            
            const layout = {
                title: 'High-Speed Rail Network Length by Empire',
                font: {
                    family: 'Orbitron',
                    color: 'white'
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                xaxis: {
                    tickfont: {
                        family: 'Orbitron',
                        color: 'white'
                    },
                    gridcolor: 'rgba(255,255,255,0.1)'
                },
                yaxis: {
                    tickfont: {
                        family: 'Orbitron',
                        color: 'white'
                    },
                    gridcolor: 'rgba(255,255,255,0.1)',
                    title: {
                        text: 'Length (km)',
                        font: {
                            family: 'Orbitron',
                            color: 'white'
                        }
                    }
                }
            };
            
            Plotly.newPlot('hsr-chart', data, layout, { displayModeBar: false });
        }
        
        // Create Metro Chart
        function createMetroChart(empire1, empire2, empire3) {
            const data = [
                {
                    x: ['Empire 1.0', 'Empire 2.0', 'Empire 3.0'],
                    y: [empire1, empire2, empire3],
                    type: 'bar',
                    marker: {
                        color: ['#3b82f6', '#ef4444', '#10b981']
                    }
                }
            ];
            
            const layout = {
                title: 'Metro System Length by Empire',
                font: {
                    family: 'Orbitron',
                    color: 'white'
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                xaxis: {
                    tickfont: {
                        family: 'Orbitron',
                        color: 'white'
                    },
                    gridcolor: 'rgba(255,255,255,0.1)'
                },
                yaxis: {
                    tickfont: {
                        family: 'Orbitron',
                        color: 'white'
                    },
                    gridcolor: 'rgba(255,255,255,0.1)',
                    title: {
                        text: 'Length (km)',
                        font: {
                            family: 'Orbitron',
                            color: 'white'
                        }
                    }
                }
            };
            
            Plotly.newPlot('metro-chart', data, layout, { displayModeBar: false });
        }
        
        // Create Rail Chart
        function createRailChart(empire1, empire2, empire3) {
            const data = [
                {
                    x: ['Empire 1.0', 'Empire 2.0', 'Empire 3.0'],
                    y: [empire1, empire2, empire3],
                    type: 'bar',
                    marker: {
                        color: ['#3b82f6', '#ef4444', '#10b981']
                    }
                }
            ];
            
            const layout = {
                title: 'Total Rail Infrastructure by Empire',
                font: {
                    family: 'Orbitron',
                    color: 'white'
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                xaxis: {
                    tickfont: {
                        family: 'Orbitron',
                        color: 'white'
                    },
                    gridcolor: 'rgba(255,255,255,0.1)'
                },
                yaxis: {
                    tickfont: {
                        family: 'Orbitron',
                        color: 'white'
                    },
                    gridcolor: 'rgba(255,255,255,0.1)',
                    title: {
                        text: 'Length (km)',
                        font: {
                            family: 'Orbitron',
                            color: 'white'
                        }
                    }
                }
            };
            
            Plotly.newPlot('rail-chart', data, layout, { displayModeBar: false });
        }
        
        // Initialize rail data when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            populateHSRData();
            populateMetroData();
            populateRailData();
        });
    </script>
</body>
</html>
